
//: Declare String Begin

/*: "bundle" :*/
fileprivate let mainNowTitle:[Character] = ["b","u","n","d","l"]
fileprivate let user_rankStr:String = "extra"

/*: "nav_back_black_nor" :*/
fileprivate let noti_halfMsg:String = "leave into snav_b"
fileprivate let appLinkName:String = "outlet animalack_b"

/*: "icon_translation_go" :*/
fileprivate let mainHeadlineMessage:[Character] = ["i","c","o","n","_","t","r","a","n","s","l"]
fileprivate let constJustContrastKey:String = "atiexpression"

/*: "iv_me_vip" :*/
fileprivate let kSystemTitle:String = "month faculty straight shouldiv_"
fileprivate let show_stockData:String = "miracle increaseme_vip"

/*: "btn_dongtai_pinglun_nor" :*/
fileprivate let mainAgeName:String = "btn_send action"
fileprivate let app_stopRatingName:String = "tai_pinglfalse below"
fileprivate let mainCommunicateBehindEditionFormat:String = "un_norwindow yes security"

/*: "btn_me_new_edit" :*/
fileprivate let constGalleryStr:String = "processor technique thread priority contendbtn_me_n"
fileprivate let showHimBeyondKey:String = "remove arrow galleryew_edit"

/*: "btn_me_edit" :*/
fileprivate let constInsertFormat:String = "bignoren"
fileprivate let app_checkStr:String = "number rem_me_edit"

/*: "icon_photo_giftbg" :*/
fileprivate let const_moveTitle:String = "icon_phocurrently rush current"
fileprivate let constOffceCountroClueFormat:String = "narrow good kind packto_giftbg"

/*: "icon_gift_more_arrow" :*/
fileprivate let k_volumeValue:[Character] = ["i","c","o","n","_","g","i"]
fileprivate let notiResistanceResignLaunchKey:[Character] = ["f","t","_","m","o","r","e","_","a","r","r","o","w"]

/*: "bg_talk_other" :*/
fileprivate let appOrganData:[Character] = ["b","g","_","t","a","l","k","_","o","t"]
fileprivate let main_teamStr:[Character] = ["h","e","r"]

/*: "bg_talk_me" :*/
fileprivate let mainSunPrivacyName:String = "bg_tzz anima"

/*: "icon_talk_left_voive_1" :*/
fileprivate let dataVisitorMessage:String = "icon_tflexible bill rounding"
fileprivate let appDistributionPath:String = "eft_vslight miss timing successful automatically"
fileprivate let k_assertClickStr:String = "world refer rate would funoive_1"

/*: "icon_talk_left_voive_2" :*/
fileprivate let constRecommendationSpyMsg:String = "icon_talfire one import bag"
fileprivate let show_rangeFormat:String = "k_lefbetter reduce small"

/*: "icon_talk_left_voive_3" :*/
fileprivate let kActionStr:String = "say animalicon_t"
fileprivate let mainSurgeryRemoveArrowTitle:String = "telephone main pure propose youleft_v"
fileprivate let const_backAreaId:String = "factor"
fileprivate let kForthGreetValue:[Character] = ["i","v","e","_","3"]

/*: "icon_talk_right_voive_1" :*/
fileprivate let userObserverKey:[Character] = ["i","c","o","n","_","t","a","l","k","_","r","i","g","h","t","_"]
fileprivate let dataEffMsg:String = "V"
fileprivate let appOffeMsg:String = "oive_1say bold look"

/*: "icon_talk_right_voive_2" :*/
fileprivate let mainSuspendMessage:String = "previous wood press dial poseicon_"
fileprivate let dataMovieVidTitle:String = "rsomethinggh"
fileprivate let k_modestStr:[Character] = ["e","_","2"]

/*: "icon_talk_right_voive_3" :*/
fileprivate let showComputerContent:String = "icon_tgirl party upper ting"
fileprivate let kBodyUrl:String = "ht_voman yellow composition this wall"

/*: "icon_gift_num_bg" :*/
fileprivate let k_dotName:String = "following accept forward braceicon_g"
fileprivate let mainPriceData:String = "um_bgframework interrupt ex here i"

/*: "group_someoneatme" :*/
fileprivate let data_writerMsg:String = "groreplacement"
fileprivate let data_violationPath:[Character] = ["e","a","t","m","e"]

/*: "btn_back_white" :*/
fileprivate let userCommitPath:String = "btn_basale pack anima"
fileprivate let show_popKey:String = "choose cross stuff thread mmck_white"

/*: "icon_VectorStroke" :*/
fileprivate let data_capacityId:[Character] = ["i","c","o","n","_","V","e","c","t","o","r"]
fileprivate let appFireStr:[Character] = ["S","t","r","o","k","e"]

/*: "btnJQbEAB_etihw_kcab_shadow" :*/
fileprivate let k_rangeKey:String = "reply interestedbtnJ"
fileprivate let k_activityBlueTotaloFormat:String = "processing computerB_eti"
fileprivate let main_freshData:String = "ride clue expression markab_sha"
fileprivate let data_uniformNatureTrustName:[Character] = ["d","o","w"]

/*: "bg_talk_closed_tc_intimate" :*/
fileprivate let show_chinMsg:[Character] = ["b","g","_","t","a","l","k","_","c","l","o","s","e","d","_","t","c","_"]
fileprivate let app_coverMessage:[Character] = ["i","n","t","i","m","a","t","e"]

/*: "icon_talk_reply_voive" :*/
fileprivate let kExpectedId:String = "icon_tzz bird ting sibling document"
fileprivate let notiCosMountPath:String = "eply_voivanalysis write business map"
fileprivate let noti_dogContent:String = "E"

/*: "ico_intimate_list_sm" :*/
fileprivate let noti_bindBetweenLearnKey:[Character] = ["i","c","o","_","i","n","t","i","m","a","t","e","_","l","i","s","t"]
fileprivate let showWindowFormat:String = "_smpresentation agency"

/*: "female_bg_random" :*/
fileprivate let mainGraduateData:String = "psychological"
fileprivate let showAttributeKey:[Character] = ["m","a","l","e","_","b","g","_","r","a","n","d","o","m"]

/*: "party_mini_bg_userDetail" :*/
fileprivate let main_processShakeData:[Character] = ["p","a","r","t","y","_","m","i","n","i","_","b","g"]
fileprivate let main_borderKey:String = "barrier week publish_userD"

/*: "CIGaussianBlur" :*/
fileprivate let show_boundValue:[Character] = ["C","I","G","a","u","s"]
fileprivate let show_complyPath:[Character] = ["s","i","a"]
fileprivate let k_appointmentMsg:[Character] = ["n","B","l","u","r"]

/*: "icon_mid_picture_default" :*/
fileprivate let userCollectMsg:String = "icon_processing sh destroy"
fileprivate let notiEhFormat:String = "piccharacterizeur"
fileprivate let k_maybeMessage:[Character] = ["f","a","u","l","t"]

/*: "icon_big_picture_default" :*/
fileprivate let notiTempName:String = "icon_bready modest deny direct vid"
fileprivate let main_servicePath:String = "tlabre"
fileprivate let user_nextTitle:[Character] = ["_","d","e","f","a","u","l","t"]

/*: "icon_big_picture_square" :*/
fileprivate let main_alwaysMessage:String = "ibasicon"
fileprivate let k_enterData:String = "artifact maker spark_pictur"
fileprivate let appProcessorEnhanceUrl:[Character] = ["e","_","s","q","u","a","r","e"]

/*: "gift_icon_default" :*/
fileprivate let k_rawMessage:[Character] = ["g","i","f","t","_","i","c","o","n","_","d"]
fileprivate let constCoordinateId:String = "EFAULT"

/*: "icon_female_icon_default" :*/
fileprivate let user_shrinkText:String = "icostroke"
fileprivate let main_behindText:String = "terms accountinge_ico"
fileprivate let show_oppositePath:[Character] = ["a","u","l","t"]

/*: "icon_male_icon_default" :*/
fileprivate let constStreetId:String = "mailc"
fileprivate let userMiracleValue:String = "on_mastack engage composition failure"
fileprivate let appAccessMsg:String = "transition respect charm observer appearanceon_def"

/*: "icon_circle_pic_default" :*/
fileprivate let appProvinceName:[Character] = ["i","c","o","n","_","c","i","r","c","l","e","_","p","i","c","_","d","e","f"]
fileprivate let dataYoungMonthTitle:[Character] = ["a","u","l","t"]

/*: "ata:image/jpeg;base64, :*/
fileprivate let data_formerName:[Character] = ["a","t","a",":","i","m","a","g","e","/","j","p","e","g",";","b","a","s"]
fileprivate let k_situationMsg:[Character] = ["e","6","4",","]

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  UIImageExtension.swift
//  AbroadTalking
//
//  Created by Hemming on 2022/1/25.
//

//: import Foundation
import Foundation
//: import SwiftUI
import SwiftUI
//: import UIKit
import UIKit

//: enum PodspecBundle {
enum MalePodspecBundle {
    //: static let bundle: Bundle = {
    static let bundle: Bundle = {
        //: if let bundleURL = Bundle.main.url(forResource: PodspecName, withExtension: "bundle") {
        if let bundleURL = Bundle.main.url(forResource: main_askPath, withExtension: (String(mainNowTitle) + user_rankStr.replacingOccurrences(of: "extra", with: "e"))) {
            //: return Bundle(url: bundleURL) ?? Bundle.main
            return Bundle(url: bundleURL) ?? Bundle.main
        }
        //: return Bundle.main
        return Bundle.main
        //: }()
    }()

    /// 需要镜像的图片资源
    //: static let flipsImages: Set<String> = {
    static let flipsImages: Set<String> = //: return ["nav_back_black_nor",
        [(String(noti_halfMsg.suffix(5)) + String(appLinkName.suffix(5)) + "lack_nor"),
         //: "icon_translation_go",
         (String(mainHeadlineMessage) + constJustContrastKey.replacingOccurrences(of: "expression", with: "o") + "n_go"),
         //: "iv_me_vip",
         (String(kSystemTitle.suffix(3)) + String(show_stockData.suffix(6))),
         //: "btn_dongtai_pinglun_nor",
         (String(mainAgeName.prefix(4)) + "dong" + String(app_stopRatingName.prefix(9)) + String(mainCommunicateBehindEditionFormat.prefix(6))),
         //: "btn_me_new_edit",
         (String(constGalleryStr.suffix(8)) + String(showHimBeyondKey.suffix(7))),
         //: "btn_me_edit",
         (constInsertFormat.replacingOccurrences(of: "ignore", with: "t") + String(app_checkStr.suffix(8))),
         //: "icon_photo_giftbg",
         (String(const_moveTitle.prefix(8)) + String(constOffceCountroClueFormat.suffix(9))),
         //: "icon_gift_more_arrow",
         (String(k_volumeValue) + String(notiResistanceResignLaunchKey)),
         //: "bg_talk_other",
         (String(appOrganData) + String(main_teamStr)),
         //: "bg_talk_me",
         (String(mainSunPrivacyName.prefix(4)) + "alk_me"),
         //: "icon_talk_left_voive_1",
         (String(dataVisitorMessage.prefix(6)) + "alk_l" + String(appDistributionPath.prefix(5)) + String(k_assertClickStr.suffix(6))),
         //: "icon_talk_left_voive_2",
         (String(constRecommendationSpyMsg.prefix(8)) + String(show_rangeFormat.prefix(5)) + "t_voive_2"),
         //: "icon_talk_left_voive_3",
         (String(kActionStr.suffix(6)) + "alk_" + String(mainSurgeryRemoveArrowTitle.suffix(6)) + const_backAreaId.replacingOccurrences(of: "factor", with: "o") + String(kForthGreetValue)),
         //: "icon_talk_right_voive_1",
         (String(userObserverKey) + dataEffMsg.lowercased() + String(appOffeMsg.prefix(6))),
         //: "icon_talk_right_voive_2",
         (String(mainSuspendMessage.suffix(5)) + "talk_" + dataMovieVidTitle.replacingOccurrences(of: "something", with: "i") + "t_voiv" + String(k_modestStr)),
         //: "icon_talk_right_voive_3",
         (String(showComputerContent.prefix(6)) + "alk_rig" + String(kBodyUrl.prefix(5)) + "ive_3"),
         //: "icon_gift_num_bg",
         (String(k_dotName.suffix(6)) + "ift_n" + String(mainPriceData.prefix(5))),
         //: "group_someoneatme",
         (data_writerMsg.replacingOccurrences(of: "replacement", with: "u") + "p_someon" + String(data_violationPath)),
         //: "btn_back_white",
         (String(userCommitPath.prefix(6)) + String(show_popKey.suffix(8))),
         //: "icon_VectorStroke",
         (String(data_capacityId) + String(appFireStr)),
         //: "btnJQbEAB_etihw_kcab_shadow",
         (String(k_rangeKey.suffix(4)) + "QbEA" + String(k_activityBlueTotaloFormat.suffix(5)) + "hw_kc" + String(main_freshData.suffix(6)) + String(data_uniformNatureTrustName)),
         //: "bg_talk_closed_tc_intimate",
         (String(show_chinMsg) + String(app_coverMessage)),
         //: "icon_talk_reply_voive",
         (String(kExpectedId.prefix(6)) + "alk_r" + String(notiCosMountPath.prefix(9)) + noti_dogContent.lowercased()),
         //: "ico_intimate_list_sm",
         (String(noti_bindBetweenLearnKey) + String(showWindowFormat.prefix(3))),
         //: "female_bg_random",
         (mainGraduateData.replacingOccurrences(of: "psychological", with: "fe") + String(showAttributeKey)),
         //: "party_mini_bg_userDetail"]
         (String(main_processShakeData) + String(main_borderKey.suffix(6)) + "etail")]
    //: }()
}

//: public extension UIImage {
public extension UIImage {
    //: static func imageFillColor(color: UIColor) -> UIImage {
    static func doMinimize(color: UIColor) -> UIImage {
        //: let size = CGSize(width: 1, height: 1)
        let size = CGSize(width: 1, height: 1)
        //: let renderer = UIGraphicsImageRenderer(size: size)
        let renderer = UIGraphicsImageRenderer(size: size)
        //: let image = renderer.image { context in
        let image = renderer.image { context in
            //: context.cgContext.setFillColor(color.cgColor)
            context.cgContext.setFillColor(color.cgColor)
            //: context.fill(CGRect(x: 0, y: 0, width: 1, height: 1))
            context.fill(CGRect(x: 0, y: 0, width: 1, height: 1))
        }
        //: return image
        return image
    }

    //: static func imageFillColor(color: UIColor, size: CGSize) -> UIImage {
    static func capitalTotalry(color: UIColor, size: CGSize) -> UIImage {
        //: let renderer = UIGraphicsImageRenderer(size: size)
        let renderer = UIGraphicsImageRenderer(size: size)
        //: let img = renderer.image { context in
        let img = renderer.image { context in
            //: color.set()
            color.set()
            //: context.fill(CGRect(x: 0, y: 0, width: size.width, height: size.height))
            context.fill(CGRect(x: 0, y: 0, width: size.width, height: size.height))
        }
        //: return img
        return img
    }

    //: static func imageFillColor(color: UIColor, size: CGSize, radius: CGFloat) -> UIImage {
    static func auditoryImageToRadius(color: UIColor, size: CGSize, radius: CGFloat) -> UIImage {
        //: let renderer = UIGraphicsImageRenderer(size: size)
        let renderer = UIGraphicsImageRenderer(size: size)
        //: let img = renderer.image { context in
        let img = renderer.image { context in
            //: let path = UIBezierPath(roundedRect: CGRect(x: 0, y: 0, width: size.width, height: size.height), cornerRadius: radius)
            let path = UIBezierPath(roundedRect: CGRect(x: 0, y: 0, width: size.width, height: size.height), cornerRadius: radius)
            //: context.cgContext.setFillColor(color.cgColor)
            context.cgContext.setFillColor(color.cgColor)
            //: context.cgContext.addPath(path.cgPath)
            context.cgContext.addPath(path.cgPath)
            //: context.cgContext.fillPath()
            context.cgContext.fillPath()
        }
        //: return img
        return img
    }

    //: static func imageGradientColor(colors: [CGColor], size: CGSize) -> UIImage {
    static func tillOfCreation(colors: [CGColor], size: CGSize) -> UIImage {
        //: let renderer = UIGraphicsImageRenderer(size: size)
        let renderer = UIGraphicsImageRenderer(size: size)
        //: let img = renderer.image { context in
        let img = renderer.image { context in
            //: let gradientLayer = CAGradientLayer()
            let gradientLayer = CAGradientLayer()
            //: gradientLayer.colors = colors
            gradientLayer.colors = colors
            //: gradientLayer.startPoint = CGPoint(x: 0, y: 0.5)
            gradientLayer.startPoint = CGPoint(x: 0, y: 0.5)
            //: gradientLayer.endPoint = CGPoint(x: 1.0, y: 0.5)
            gradientLayer.endPoint = CGPoint(x: 1.0, y: 0.5)
            //: gradientLayer.frame = CGRect(x: 0, y: 0, width: ceil(size.width), height: ceil(size.height))
            gradientLayer.frame = CGRect(x: 0, y: 0, width: ceil(size.width), height: ceil(size.height))
            //: gradientLayer.render(in: context.cgContext)
            gradientLayer.render(in: context.cgContext)
        }
        //: return img
        return img
    }

    //: static func imageGradientTopToBottonColor(colors: [CGColor], size: CGSize) -> UIImage {
    static func untilName(colors: [CGColor], size: CGSize) -> UIImage {
        //: let renderer = UIGraphicsImageRenderer(size: size)
        let renderer = UIGraphicsImageRenderer(size: size)
        //: let img = renderer.image { context in
        let img = renderer.image { context in
            //: let gradientLayer = CAGradientLayer()
            let gradientLayer = CAGradientLayer()
            //: gradientLayer.colors = colors
            gradientLayer.colors = colors
            //: gradientLayer.frame = CGRect(x: 0, y: 0, width: ceil(size.width), height: ceil(size.height))
            gradientLayer.frame = CGRect(x: 0, y: 0, width: ceil(size.width), height: ceil(size.height))
            //: gradientLayer.render(in: context.cgContext)
            gradientLayer.render(in: context.cgContext)
        }
        //: return img
        return img
    }

    /// 实现高斯模糊效果
    /// - Parameters:
    ///   - theImage: 传入图片
    ///   - blurValue: 模糊程度
    /// - Returns: 输出图片
    //: static func blur(theImage: UIImage, blurValue: CGFloat = 15.0) -> UIImage {
    static func advertisingValue(theImage: UIImage, blurValue: CGFloat = 15.0) -> UIImage {
        //: let context = CIContext(options: nil)
        let context = CIContext(options: nil)
        //: let inputImage = CIImage(cgImage: theImage.cgImage!)
        let inputImage = CIImage(cgImage: theImage.cgImage!)
        //: let filter = CIFilter(name: "CIGaussianBlur")
        let filter = CIFilter(name: (String(show_boundValue) + String(show_complyPath) + String(k_appointmentMsg)))
        //: filter?.setValue(inputImage, forKey: kCIInputImageKey)
        filter?.setValue(inputImage, forKey: kCIInputImageKey)
        //: filter?.setValue(blurValue, forKey: kCIInputRadiusKey)
        filter?.setValue(blurValue, forKey: kCIInputRadiusKey)
        //: let result = filter?.value(forKey: kCIOutputImageKey) as! CIImage
        let result = filter?.value(forKey: kCIOutputImageKey) as! CIImage
        //: let cgImage = context.createCGImage(result, from: inputImage.extent)
        let cgImage = context.createCGImage(result, from: inputImage.extent)
        //: let returnImage = UIImage(cgImage: cgImage!)
        let returnImage = UIImage(cgImage: cgImage!)
        //: return returnImage
        return returnImage
    }

    //: @objc static func BundleImageNamed(name: String) -> UIImage {
    @objc static func lastTo(name: String) -> UIImage {
        //: guard name.count > 0 else {
        guard name.count > 0 else {
            //: return UIImage()
            return UIImage()
        }
        //: if let image = SVGAEffectTool.default.getImage(name: name) {
        if let image = AliveEffectTool.default.overNeed(name: name) {
            //: return processImage(image: image, name: name)
            return diagnosticTechnique(image: image, name: name)
        }
        //: return UIImage()
        return UIImage()
    }

    /// 镜像图片
    //: private static func processImage(image: UIImage, name: String) -> UIImage {
    private static func diagnosticTechnique(image: UIImage, name: String) -> UIImage {
        //: guard LanguageManager.shared.direction == .rightToLeft else {
        guard DriveReactiveCompatible.shared.direction == .rightToLeft else {
            //: return image
            return image
        }
        //: if PodspecBundle.flipsImages.contains(name) {
        if MalePodspecBundle.flipsImages.contains(name) {
            //: return image.imageFlippedForRightToLeftLayoutDirection()
            return image.imageFlippedForRightToLeftLayoutDirection()
        }
        //: return image
        return image
    }

    //: @objc static func placeImgSquare() -> UIImage {
    @objc static func buttonShape() -> UIImage {
        //: return BundleImageNamed(name: "icon_mid_picture_default")
        return lastTo(name: (String(userCollectMsg.prefix(5)) + "mid_" + notiEhFormat.replacingOccurrences(of: "characterize", with: "t") + "e_de" + String(k_maybeMessage)))
    }

    //: static func placeImgBanner() -> UIImage {
    static func glyceroliseClose() -> UIImage {
        //: return BundleImageNamed(name: "icon_big_picture_default")
        return lastTo(name: (String(notiTempName.prefix(6)) + "ig_pic" + main_servicePath.replacingOccurrences(of: "lab", with: "u") + String(user_nextTitle)))
    }

    //: @objc static func placeSquareBigImgBanner() -> UIImage {
    @objc static func appearLine() -> UIImage {
        //: return BundleImageNamed(name: "icon_big_picture_square")
        return lastTo(name: (main_alwaysMessage.replacingOccurrences(of: "basic", with: "c") + "_big" + String(k_enterData.suffix(7)) + String(appProcessorEnhanceUrl)))
    }

    //: @objc static func giftPlaceHolderImage() -> UIImage {
    @objc static func ignoreImage() -> UIImage {
        //: return BundleImageNamed(name: "gift_icon_default")
        return lastTo(name: (String(k_rawMessage) + constCoordinateId.lowercased()))
    }

    //: static func placeHolderImage(sex: String) -> UIImage {
    static func delayConvert(sex: String) -> UIImage {
        //: if sex == Gender.female.rawValue {
        if sex == TopicKeyRepresentable.female.rawValue {
            //: return BundleImageNamed(name: "icon_female_icon_default")
            return lastTo(name: (user_shrinkText.replacingOccurrences(of: "stroke", with: "n") + "_femal" + String(main_behindText.suffix(5)) + "n_def" + String(show_oppositePath)))
        }
        //: return BundleImageNamed(name: "icon_male_icon_default")
        return lastTo(name: (constStreetId.replacingOccurrences(of: "mail", with: "i") + String(userMiracleValue.prefix(5)) + "le_ic" + String(appAccessMsg.suffix(6)) + "ault"))
    }

    //: static func placeImgCircle() -> UIImage {
    static func orientationCircle() -> UIImage {
        //: return BundleImageNamed(name: "icon_circle_pic_default")
        return lastTo(name: (String(appProvinceName) + String(dataYoungMonthTitle)))
    }

    //: @objc static func resizedInImageWithName(name: String) -> UIImage {
    @objc static func tillLanguageUnitText(name: String) -> UIImage {
        //: let ret = UIImage.BundleImageNamed(name: name)
        let ret = UIImage.lastTo(name: name)
        //: let edge = UIEdgeInsets(top: 30, left: 10, bottom: 10, right: 15)
        let edge = UIEdgeInsets(top: 30, left: 10, bottom: 10, right: 15)
        //: return ret.resizableImage(withCapInsets: edge, resizingMode: .stretch)
        return ret.resizableImage(withCapInsets: edge, resizingMode: .stretch)
    }

    //: func resize(with newSize: CGSize, highQuality: Bool = false) -> UIImage? {
    func playerExist(with newSize: CGSize, highQuality: Bool = false) -> UIImage? {
        //: let _newSize = highQuality ? CGSize(width: newSize.width * 2, height: newSize.height * 2) : newSize
        let _newSize = highQuality ? CGSize(width: newSize.width * 2, height: newSize.height * 2) : newSize
        //: var scaleFactor: CGFloat = 0.0
        var scaleFactor: CGFloat = 0.0
        //: if !size.equalTo(newSize) {
        if !size.equalTo(newSize) {
            //: let widthFactor: CGFloat = _newSize.width / size.width
            let widthFactor: CGFloat = _newSize.width / size.width
            //: let heightFactor: CGFloat = _newSize.height / size.height
            let heightFactor: CGFloat = _newSize.height / size.height
            //: if widthFactor < heightFactor {
            if widthFactor < heightFactor {
                //: scaleFactor = heightFactor
                scaleFactor = heightFactor // scale to fit height
                //: } else {
            } else {
                //: scaleFactor = widthFactor
                scaleFactor = widthFactor // scale to fit width
            }
        }

        //: scaleFactor = min(scaleFactor, 1.0)
        scaleFactor = min(scaleFactor, 1.0)
        //: let targetWidth = ceil(size.width * scaleFactor)
        let targetWidth = ceil(size.width * scaleFactor)
        //: let targetHeight = ceil(size.height * scaleFactor)
        let targetHeight = ceil(size.height * scaleFactor)

        //: let renderer = UIGraphicsImageRenderer(size: CGSize(width: targetWidth, height: targetHeight))
        let renderer = UIGraphicsImageRenderer(size: CGSize(width: targetWidth, height: targetHeight))
        //: let newImage = renderer.image { _ in
        let newImage = renderer.image { _ in
            //: draw(in: CGRect(x: 0, y: 0, width: targetWidth, height: targetHeight))
            draw(in: CGRect(x: 0, y: 0, width: targetWidth, height: targetHeight))
        }
        //: return newImage
        return newImage
    }

    //: @objc static func base64EncodeImageRestore(imageData: String) -> UIImage {
    @objc static func cookieOp(imageData: String) -> UIImage {
        //: let urlString = "ata:image/jpeg;base64,\(imageData)"
        let urlString = (String(data_formerName) + String(k_situationMsg)) + "\(imageData)"
        //: let url = URL(string: urlString)
        let url = URL(string: urlString)
        //: if let data = try? Data(contentsOf: url!) {
        if let data = try? Data(contentsOf: url!) {
            //: let image = UIImage(data: data)!
            let image = UIImage(data: data)!
            //: return image
            return image
            //: } else {
        } else {
            //: return UIImage()
            return UIImage()
        }
    }
}

//: class ImageWithoutRender: UIImage {
class LifetimeImage: UIImage {
    //: override func withRenderingMode(_ renderingMode: UIImage.RenderingMode) -> UIImage {
    override func withRenderingMode(_: UIImage.RenderingMode) -> UIImage {
        //: return self
        return self
    }
}
